!function(t){t.fn.anaglyphImage=function(a){var i=t.extend({intensity:10,quality:.9},a),n=function(a){var n=a.width(),e=a.height(),r=t("<canvas/>").attr("width",n).attr("height",e)[0],g=r.getContext("2d");g.drawImage(a[0],0,0,n,e);var h=g.getImageData(0,0,n,e);for(y=0;y<e;y++)for(x=0;x<n;x++)h.data[4*y*n+4*x+1]=h.data[4*y*n+4*(x+i.intensity)+1],h.data[4*y*n+4*x+2]=h.data[4*y*n+4*(x+i.intensity)+2];return g.putImageData(h,i.intensity,0),r.toDataURL("image/jpeg",i.quality)};return this.is("img")?void this.each(function(){var a=t(this),i=n(a);return a.attr("src",i),a}):!1}}(jQuery);